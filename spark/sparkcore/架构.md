# ğŸ“– sparkåŸºç¡€

- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [è¿è¡Œæ¨¡å¼](#è¿è¡Œæ¨¡å¼)
  - [local](#local)
  - [standalone](#standalone)
  - [yarn](#yarn)
- [ç¯å¢ƒæ­å»º](#ç¯å¢ƒæ­å»º)
- [åŸºç¡€æ¦‚å¿µ](#åŸºç¡€æ¦‚å¿µ)
- [ä»»åŠ¡åŸºæœ¬æµç¨‹](#ä»»åŠ¡åŸºæœ¬æµç¨‹)
- [å‚è€ƒèµ„æ–™](#å‚è€ƒèµ„æ–™)

# æ¶æ„è®¾è®¡
![img.png](../pic/basis/æ¶æ„è®¾è®¡.png)
# è¿è¡Œæ¨¡å¼
![img_4.png](../pic/basis/è¿è¡Œæ¨¡å¼.png)

## local
 - localï¼šæ‰€æœ‰è®¡ç®—éƒ½è¿è¡Œåœ¨ä¸€ä¸ªçº¿ç¨‹å½“ä¸­ï¼Œæ²¡æœ‰ä»»ä½•å¹¶è¡Œè®¡ç®—ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨æœ¬æœºæ‰§è¡Œä¸€äº›æµ‹è¯•ä»£ç ï¼Œæˆ–è€…ç»ƒæ‰‹ï¼Œå°±ç”¨è¿™ç§æ¨¡å¼; 
 - local[K]ï¼šæŒ‡å®šä½¿ç”¨å‡ ä¸ªçº¿ç¨‹æ¥è¿è¡Œè®¡ç®—ï¼Œæ¯”å¦‚local[4]å°±æ˜¯è¿è¡Œ4ä¸ªworkerçº¿ç¨‹ã€‚é€šå¸¸æˆ‘ä»¬çš„cpuæœ‰å‡ ä¸ªcoreï¼Œå°±æŒ‡å®šå‡ ä¸ªçº¿ç¨‹ï¼Œæœ€å¤§åŒ–åˆ©ç”¨cpuçš„è®¡ç®—èƒ½åŠ›; 
 - local[*]ï¼šè¿™ç§æ¨¡å¼ç›´æ¥å¸®ä½ æŒ‰ç…§cpuæœ€å¤šcoresæ¥è®¾ç½®çº¿ç¨‹æ•°äº†ã€‚

```shell
bin/spark-submit \
--class org.apache.spark.examples.SparkPi \
--executor-memory 1G \
--total-executor-cores 2 \
./examples/jars/spark-examples_2.11-2.1.1.jar \
100    ==> è¯¥æ•°å­—ä»£è¡¨è¿­ä»£æ¬¡æ•°
```
## standalone

 - æ„å»ºä¸€ä¸ªç”±Master+Slaveæ„æˆçš„Sparké›†ç¾¤ï¼ŒSparkè¿è¡Œåœ¨é›†ç¾¤ä¸­

## yarn

- client
  - å®¢æˆ·ç«¯
  driveråœ¨å®¢æœç«¯
  - spark
    - RM
    - AM
    - NM
    ![img_6.png](../pic/basis/yarn-driver.png)

 - cluster
   - å®¢æˆ·ç«¯
   - spark
     - RM yarnçš„è€å¤§
     - AM sparkä»»åŠ¡çš„è€å¤§ driveråœ¨AM
     - NM çœŸæ­£å¹²æ´»çš„
![img_5.png](../pic/basis/yarn-cluster.png)

# ç¯å¢ƒæ­å»º
# åŸºç¡€æ¦‚å¿µ
![img.png](../pic/basis/sparkåŸºæœ¬æ¦‚å¿µ.png)

# ä»»åŠ¡åŸºæœ¬æµç¨‹
- ç²—ç²’åº¦

![img_2.png](../pic/basis/æµç¨‹.png)
![img_1.png](../pic/basis/æµç¨‹2.png)

- ç»†ç²’åº¦
![img_3.png](../pic/basis/æµç¨‹3.png)
![](../pic/basis/æµç¨‹4.png)

#å‚è€ƒèµ„æ–™
- [Dr11ft/BigDataGuide](https://github.com/ustbly/BigDataGuide/blob/master/Spark/3%E3%80%81Spark%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F.md) ğŸ“š
